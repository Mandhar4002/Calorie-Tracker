<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMR</title>
    <link rel="icon" type="image/x-icon" href="/images/Logo.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/bmr.css">
</head>

<body>
    <%- include("partials/nav") %>

    <section class="top">
        <div class="cont">
            <h1>BMR Calculator</h1>

            <form class="calculator">
                <div>
                    <label for="age">Age</label>
                    <input type="number" id="age" min="15" step="1" placeholder="15" />
                </div>

                <div>
                    <label>Gender</label>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="g" id="m" value="m">
                        <label class="form-check-label" for="m">Male</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="g" id="f" value="f">
                        <label class="form-check-label" for="f">Female</label>
                    </div>
                </div>

                <div>
                    <label for="weight">Weight (kg)</label>
                    <input type="number" id="weight" min="0" step="0.1" placeholder="0" />
                </div>

                <div>
                    <label for="height">Height (cm)</label>
                    <input type="number" id="height" min="0" step="0.1" placeholder="0" />
                </div>

                <div>
                    <button type="reset">Reset</button>
                    <button type="submit">Submit</button>
                </div>
            </form>

            <section class="output">
                <h3>Your BMR is</h3>
                <p id="bmr">0</p>
                <h3>Calories</h3>
            </section>
        </div>
    </section>

    <section class="bottom">
        <h2>Basal Metabolic Rate (BMR)</h2>

        <p>The basal metabolic rate (BMR) is the amount of energy needed while resting in a temperate environment when
            the digestive system is inactive. It is the equivalent of figuring out how much gas an idle car consumes
            while parked. In such a state, energy will be used only to maintain vital organs, which include the heart,
            brain, kidneys, nervous system, intestines, liver, lungs, sex organs, muscles, and skin. For most people,
            upwards of ~70% of total energy (calories) burned each day is due to upkeep. Physical activity makes up ~20%
            of expenditure and ~10% is used for the digestion of food, also known as thermogenesis.</p>

        <p>The BMR is measured under very restrictive circumstances while awake. An accurate BMR measurement requires
            that a person's sympathetic nervous system is inactive, which means the person must be completely rested.
            Basal metabolism is usually the largest component of a person's total caloric needs. The daily caloric need
            is the BMR value multiplied by a factor with a value between 1.2 and 1.9, depending on activity level.</p>
        
        <h3>Daily calorie needs based on activity level</h3>
        
        <div class="content">
            <div class="item col1 heading">Activity Level</div>
            <div class="item col2 heading">Calorie</div>
            
            <div class="item col1">Sedentary: little or no exercise</div>
            <div class="item col2" id="o1"></div>
            
            <div class="item col1">Exercise 1-3 times/week</div>
            <div class="item col2" id="o2"></div>
            
            <div class="item col1">Exercise 4-5 times/week</div>
            <div class="item col2" id="o3"></div>
            
            <div class="item col1">Daily exercise or intense exercise 3-4 times/week</div>
            <div class="item col2" id="o4"></div>
            
            <div class="item col1">Intense exercise 6-7 times/week</div>
            <div class="item col2" id="o5"></div>
            
            <div class="item col1">Very intense exercise daily, or physical job</div>
            <div class="item col2" id="o6"></div>
        </div>
    </section>

    <script>
          
        const curr = document.getElementById("fop");
        curr.classList.add("active");
        curr.removeAttribute("href");


        const form = document.querySelector(".calculator");

        form.addEventListener("submit", handleSubmit);
        form.addEventListener("reset", handleReset);

        function handleReset() {
            const output = document.getElementById("bmr");
            output.textContent = 0;
        }

        function handleSubmit(e) {
            e.preventDefault();
            const age = parseFloat(document.getElementById("age").value);
            const height = parseFloat(document.getElementById("height").value);
            const weight = parseFloat(document.getElementById("weight").value);
            const gender = document.querySelector('input[name="g"]:checked').value;

            let result;

            if (gender == "m") {
                // 10W + 6.25H - 5A + 5
                result = 10 * weight + 6.25 * height - 5 * age + 5;
            }
            else if (gender == "f") {
                // 10W + 6.25H - 5A - 161
                result = 10 * weight + 6.25 * height - 5 * age - 161;
            }

            result = result.toFixed(0);

            const output = document.getElementById("bmr");
            output.textContent = result;
            output.style.color = "green";

            document.getElementById("o1").textContent = ((result * 1.2).toFixed(0));
            document.getElementById("o2").textContent = ((result * 1.375).toFixed(0));
            document.getElementById("o3").textContent = ((result * 1.465).toFixed(0));
            document.getElementById("o4").textContent = ((result * 1.55).toFixed(0));
            document.getElementById("o5").textContent = ((result * 1.724).toFixed(0));
            document.getElementById("o6").textContent = ((result * 1.9).toFixed(0));
        }


    </script>
</body>

</html>